<div class="nueva-venta-container">
  <app-carrito [abrirModal]="abrirModal.bind(this)"></app-carrito>
  <app-lista-productos></app-lista-productos>
</div>

<!-- Modal Checkout -->
<ng-container *ngIf="mostrarModal">
  <div class="modal-container">
    <div class="modal-overlay"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Check out</h2>
        <button (click)="cerrarModal()" class="close-button">âœ•</button>
      </div>

      <div class="modal-body">
        <!-- Contact Information -->
        <div class="contact-info">
          <h3>Contact Information</h3>
          <input type="email" placeholder="Enter your email" class="input-field" />
          <label class="checkbox-label">
            <input type="checkbox" class="checkbox" /> Email me with news and offers.
          </label>

          <!-- Shipping Details -->
          <h3 class="mt-4">Shipping Details</h3>
          <input type="text" placeholder="Phone Number" class="input-field" />
          <label class="checkbox-label">
            <input type="checkbox" class="checkbox" /> Save this information for next time.
          </label>
        </div>

        <!-- Order Summary -->
        <div class="max-h-46 overflow-y-auto">
          <div class="order-summary">
            <h3>Order Summary</h3>
            <div *ngFor="let item of carrito" class="order-item">
              <div>
                <p class="item-name">{{ item.articulo.nombre }}</p>
                <p class="item-description">asd</p>
              </div>
              <p class="item-price">{{ item.articulo.precio | currency }}</p>
            </div>
          </div>
        </div>
        </div>

        <!-- Resumen fijo abajo a la derecha -->
        <div class="border-t pt-4 resumen">
          <h3 class="text-lg font-semibold">Resumen</h3>
          <div class="flex justify-between">
            <span>Total sin descuentos: </span>
            <span>{{total | currency}}</span>
          </div>
          <div class="flex justify-between">
            <span>Descuento: </span>
            <span>{{0 | currency}}</span>
          </div>
          <div class="flex justify-between font-bold">
            <span>Total: </span>
            <span><b>$25,790.00</b></span>
          </div>
        </div>


        <button class="payment-button">
          Proceed to payment
        </button>
      </div>
  </div>
</ng-container>
